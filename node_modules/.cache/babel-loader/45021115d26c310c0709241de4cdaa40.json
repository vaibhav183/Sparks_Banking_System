{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/vp789/Desktop/Work_Project/Spark-Banking-System/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/vp789/Desktop/Work_Project/Spark-Banking-System/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/vp789/Desktop/Work_Project/Spark-Banking-System/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useState,useEffect}from\"react\";import{CustomerStatements}from\"./CustomerStatements\";import{Link}from\"react-router-dom\";import{BeatLoader}from\"react-spinners\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var CustomerDetail=function CustomerDetail(props){// loadings\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),statementsloading=_useState2[0],setStatementsLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),customerloading=_useState4[0],setCustomerLoading=_useState4[1];// Customer Details\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),customer=_useState6[0],setCustomer=_useState6[1];useEffect(function(){function filteredCustomer(data){return parseInt(data.Account_No)===parseInt(localStorage.getItem(\"acc\"));}function Customers(){return _Customers.apply(this,arguments);}function _Customers(){_Customers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var filtered;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return props.customersDetails.filter(filteredCustomer);case 2:filtered=_context.sent;setCustomer(filtered);setCustomerLoading(true);case 5:case\"end\":return _context.stop();}}},_callee);}));return _Customers.apply(this,arguments);}Customers();},[props.customersDetails]);// Transaction Statements\nvar _useState7=useState(),_useState8=_slicedToArray(_useState7,2),statements=_useState8[0],setStatements=_useState8[1];useEffect(function(){function FilterStatements(data){return parseInt(data.Credited_by)===parseInt(localStorage.getItem(\"acc\"))||parseInt(data.Debated_to)===parseInt(localStorage.getItem(\"acc\"));}function Statements(){return _Statements.apply(this,arguments);}function _Statements(){_Statements=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var filteredStatements;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return props.transactionDetails.filter(FilterStatements);case 2:filteredStatements=_context2.sent;console.log(filteredStatements);setStatements(filteredStatements);setStatementsLoading(true);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return _Statements.apply(this,arguments);}Statements();},[props.transactionDetails]);if(props.currentCustomer){localStorage.setItem(\"acc\",props.currentCustomer);}if(localStorage.getItem(\"acc\")){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 notification mx-2 is-success is-light title has-text-centered\",children:[\"Customer Detail\",/*#__PURE__*/_jsx(\"hr\",{className:\"has-background-success\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"columns is-centered is-touch\",children:/*#__PURE__*/_jsx(\"div\",{className:\"column is-6 is-full-mobile\",children:/*#__PURE__*/_jsx(\"div\",{className:\"notification mx-2 is-light title is-size-6-touch is-size-5-desktop has-text-left\",children:!customerloading?/*#__PURE__*/_jsx(BeatLoader,{loading:true,color:\"orange\",size:48}):customer.map(function(customer){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"m-2\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Account Number :\"}),\" \",customer.Account_No]}),/*#__PURE__*/_jsxs(\"div\",{className:\"m-2\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Account Holder Name :\"}),\" \",customer.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"m-2\",children:[/*#__PURE__*/_jsx(\"b\",{children:\" Account Holder Email :\"}),\" \",customer.email]}),/*#__PURE__*/_jsxs(\"div\",{className:\"m-2\",children:[/*#__PURE__*/_jsx(\"b\",{children:\" Account Balance : \"}),\" \\u20B9\",customer.balance]}),/*#__PURE__*/_jsx(Link,{to:\"/transfer-amount\",className:\"button is-link is-fullwidth mt-4\",onClick:function onClick(){return props.setTransfer(parseInt(localStorage.getItem(\"acc\")));},children:\"Transfer Amount\"})]},customer._id);})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"notification mx-2 is-info is-light title has-text-centered\",children:[\"Statements\",/*#__PURE__*/_jsx(\"hr\",{className:\"has-background-info\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns mt-6 notification is-light mx-2 is-mobile is-multiline\",style:{justifyContent:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"column is-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"columns notification has-text-centered is-mobile is-dark p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-2 px-0\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"title is-size-6-touch is-size-3-desktop\",children:\"Date\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-6 px-0\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"title is-size-6-touch is-size-3-desktop\",children:\"Description\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-2 px-0\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"title is-size-6-touch is-size-3-desktop\",children:\"Credited(\\u20B9)\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-2 px-0\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"title is-size-6-touch is-size-3-desktop\",children:\"Debited(\\u20B9)\"})})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"has-background-dark\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"has-background-dark\"})]}),!statementsloading?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(BeatLoader,{loading:true,color:\"orange\",size:72})}):statements.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"has-background-danger column is-12 has-text-centered title is-size-6-touch is-size-4-desktop\",children:\"No Transaction Yet\"}):statements.map(function(transactions){return/*#__PURE__*/_jsx(CustomerStatements,{statements:transactions,user:parseInt(localStorage.getItem(\"acc\"))},transactions._id);})]})]});}else{return/*#__PURE__*/_jsx(\"div\",{});}};","map":{"version":3,"sources":["C:/Users/vp789/Desktop/Work_Project/Spark-Banking-System/src/Components/CustomerDetail.js"],"names":["React","useState","useEffect","CustomerStatements","Link","BeatLoader","CustomerDetail","props","statementsloading","setStatementsLoading","customerloading","setCustomerLoading","customer","setCustomer","filteredCustomer","data","parseInt","Account_No","localStorage","getItem","Customers","customersDetails","filter","filtered","statements","setStatements","FilterStatements","Credited_by","Debated_to","Statements","transactionDetails","filteredStatements","console","log","currentCustomer","setItem","map","name","email","balance","setTransfer","_id","justifyContent","length","transactions"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { CustomerStatements } from \"./CustomerStatements\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { BeatLoader } from \"react-spinners\";\r\n\r\n\r\nexport const CustomerDetail = (props) => {\r\n  \r\n  // loadings\r\n  const [statementsloading, setStatementsLoading] = useState(false);\r\n  const [customerloading, setCustomerLoading] = useState(false);\r\n  \r\n  // Customer Details\r\n  const [customer, setCustomer] = useState([]);\r\n\r\n  useEffect(() => {\r\n    function filteredCustomer(data) {\r\n      return (\r\n        parseInt(data.Account_No) === parseInt(localStorage.getItem(\"acc\"))\r\n      );\r\n    }\r\n\r\n    async function Customers() {\r\n      var filtered = await props.customersDetails.filter(filteredCustomer);\r\n      setCustomer(filtered);\r\n      setCustomerLoading(true);\r\n    }\r\n    Customers();\r\n  }, [props.customersDetails]);\r\n\r\n  // Transaction Statements\r\n  const [statements, setStatements] = useState();\r\n\r\n  useEffect(() => {\r\n    function FilterStatements(data) {\r\n      return (\r\n        (parseInt(data.Credited_by) === parseInt(localStorage.getItem(\"acc\")) || parseInt(data.Debated_to) === parseInt(localStorage.getItem(\"acc\")))\r\n      );\r\n    }\r\n\r\n    async function Statements() {\r\n      var filteredStatements = await props.transactionDetails.filter(FilterStatements);\r\n      console.log(filteredStatements)\r\n      setStatements(filteredStatements);\r\n      setStatementsLoading(true);\r\n    }\r\n    Statements();\r\n  }, [props.transactionDetails]);\r\n\r\n  if (props.currentCustomer) {\r\n    localStorage.setItem(\"acc\", props.currentCustomer);\r\n  }\r\n  if (localStorage.getItem(\"acc\")) {\r\n    return (\r\n      <>\r\n        <div className=\"mt-6 notification mx-2 is-success is-light title has-text-centered\">\r\n          Customer Detail\r\n          <hr className=\"has-background-success\" />\r\n        </div>\r\n\r\n        <div className=\"columns is-centered is-touch\">\r\n          <div className=\"column is-6 is-full-mobile\">\r\n            <div className=\"notification mx-2 is-light title is-size-6-touch is-size-5-desktop has-text-left\">\r\n              {!customerloading ? (\r\n                  <BeatLoader loading color=\"orange\" size={48} />\r\n              ):(\r\n                customer.map((customer) => {\r\n                  return (\r\n                    \r\n                    <div key={customer._id}>\r\n                      <div className=\"m-2\">\r\n                        <b>Account Number :</b> {customer.Account_No}\r\n                      </div>\r\n                      <div className=\"m-2\">\r\n                        <b>Account Holder Name :</b> {customer.name}\r\n                      </div>\r\n                      <div className=\"m-2\">\r\n                        <b> Account Holder Email :</b> {customer.email}\r\n                      </div>\r\n                      <div className=\"m-2\">\r\n                        <b> Account Balance : </b> ₹{customer.balance}\r\n                      </div>\r\n                      <Link\r\n                        to=\"/transfer-amount\"\r\n                        className=\"button is-link is-fullwidth mt-4\"\r\n                        onClick={() =>\r\n                          props.setTransfer(parseInt(localStorage.getItem(\"acc\")))\r\n                        }\r\n                      >\r\n                        Transfer Amount\r\n                      </Link>\r\n                    </div>\r\n                  );\r\n                })\r\n                \r\n              )}\r\n              \r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"notification mx-2 is-info is-light title has-text-centered\">\r\n          Statements\r\n          <hr className=\"has-background-info\" />\r\n        </div>\r\n        <div className=\"columns mt-6 notification is-light mx-2 is-mobile is-multiline\" style={{justifyContent: 'center'}}>\r\n          <div className=\"column is-12\">\r\n            <div className=\"columns notification has-text-centered is-mobile is-dark p-0\">\r\n              <div className=\"column is-2 px-0\">\r\n                <h3 className=\"title is-size-6-touch is-size-3-desktop\">\r\n                  Date\r\n                </h3>\r\n              </div>\r\n              <div className=\"column is-6 px-0\">\r\n                <h3 className=\"title is-size-6-touch is-size-3-desktop\">\r\n                  Description\r\n                </h3>\r\n              </div>\r\n              <div className=\"column is-2 px-0\">\r\n                <h3 className=\"title is-size-6-touch is-size-3-desktop\">Credited(₹)</h3>\r\n              </div>\r\n              <div className=\"column is-2 px-0\">\r\n                <h3 className=\"title is-size-6-touch is-size-3-desktop\">Debited(₹)</h3>\r\n              </div>\r\n            </div>\r\n            <hr className=\"has-background-dark\" />\r\n            <hr className=\"has-background-dark\" />\r\n          </div>\r\n\r\n          {!statementsloading ? (\r\n              <>\r\n              <BeatLoader loading color=\"orange\" size={72} />\r\n              </>\r\n            ):(\r\n              statements.length === 0 ? (\r\n                <div className=\"has-background-danger column is-12 has-text-centered title is-size-6-touch is-size-4-desktop\">\r\n                  No Transaction Yet\r\n                </div>\r\n              ) : (\r\n                statements.map((transactions) => {\r\n                  return (\r\n                    <CustomerStatements\r\n                      key={transactions._id}\r\n                      statements={transactions}\r\n                      user={parseInt(localStorage.getItem(\"acc\"))}\r\n                    />\r\n                  );\r\n                })\r\n              )\r\n            )}\r\n\r\n          \r\n        </div>\r\n      </>\r\n    );\r\n  } else {\r\n    return <div></div>;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}